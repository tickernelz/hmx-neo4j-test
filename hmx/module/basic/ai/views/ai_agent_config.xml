<?xml version="1.0" encoding="utf-8"?>
<hmx>

    <!-- form quick view -->
     <record id="view_ai_agent_config_quick" model="baseuiview">
        <field name="name">view.ai.agent.config.quick</field>
        <field name="model">aiagentconfig</field>
        <field name="type">quick</field>
        <field name="arch" type="xml">
            <form string="AI Agent Config Quick View" class="hmx-quick-view" create="0" edit="0" delete="false">
                <header>
                    <button name="authenticate" string="Authenticate" type="object" class="oe_highlight" icon="icon-check-circle-bold"/>
                    <button name="refresh_token" string="Refresh Token" type="object" class="oe_highlight" icon="icon-check-circle-bold"/>
                    <field name="status" widget="statusbar" statusbar_visible="draft,connected,failed"/>
                </header>
                <sheet>
                    <group>
                        <field name="base_url"/>
                        <field name="name"/>
                        <field name="email"/>
                        <field name="password"/>
                        <field name="token"/>
                        <field name="refreshtoken"/>
                        <field name="use_config"/>
                        <field name="token_expires_at"/>
                        <field name="refresh_token_expires_at"/>
                    </group>
                    <notebook>
                        <page string="AI Rules">
                            <group>
                                <field name="rules" widget="ace" options="{'mode': 'json'}" readonly="1"/>
                            </group>
                        </page>
                        <page string="Response">
                            <group>
                                <field name="response" widget="ace" options="{'mode': 'json'}" readonly="1"/>
                            </group>
                        </page>
                    </notebook>
                </sheet>
            </form>
        </field>
     </record>

    <!-- AI Agent Configuration List Views -->
    <record id="view_ai_agent_config_list" model="baseuiview">
        <field name="name">view.ai.agent.config.list</field>
        <field name="model">aiagentconfig</field>
        <field name="arch" type="xml">
            <list string="AI Agent Configurations">
                <field name="id" optional="hide"/>
                <field name="created_at"/>
                <field name="name"/>
                <field name="email"/>
                <field name="password"/>
                <field name="base_url"/>
                <field name="state"/>
                <field name="response"/>
                <field name="token_expires_at"/>
                <field name="refresh_token_expires_at"/>
            </list>
        </field>
    </record>

    <!-- AI Agent Configuration Form View -->
    <record id="view_ai_agent_config_form" model="baseuiview">
        <field name="name">view.ai.agent.config.form</field>
        <field name="model">aiagentconfig</field>
        <field name="priority" eval="1"/>
        <field name="arch" type="xml">
            <form class="hmx_form_ai_agent_config" create="true" edit="true" delete="true" string="AI Configuration">
                <header>
                    <button name="authenticate" string="Authenticate" type="object" class="oe_highlight" icon="icon-check-circle-bold"/>
                    <button name="refresh_token" string="Refresh Token" type="object" class="oe_highlight" icon="icon-check-circle-bold"/>
                    <field name="status" widget="statusbar" statusbar_visible="draft,connected,failed"/>
                </header>
                <sheet>
                    <group>
                        <field name="base_url"/>
                        <field name="name"/>
                        <field name="email"/>
                        <field name="password"/>
                        <field name="token"/>
                        <field name="refreshtoken"/>
                        <field name="use_config"/>
                        <field name="token_expires_at"/>
                        <field name="refresh_token_expires_at"/>
                    </group>
                    <notebook>
                        <page string="AI Rules">
                            <group>
                                <field name="rules" widget="ace" options="{'mode': 'json'}"/>
                            </group>
                        </page>
                        <page string="Response">
                            <group>
                                <field name="response" widget="ace" options="{'mode': 'json'}" readonly="1"/>
                            </group>
                        </page>
                    </notebook>
                </sheet>
            </form>
        </field>
    </record>

    <!-- Ai Agent Config Kanban View -->
    <record id="view_ai_agent_config_kanban" model="baseuiview">
        <field name="name">AI Agent Configuration Kanban</field>
        <field name="model">aiagentconfig</field>
        <field name="arch" type="xml">
            <kanban create="false" class="o_modules_kanban">
                <field name="name"/>
                <field name="email"/>
                <field name="state"/>

                <templates>
                <t t-name="kanban-box">
                    <div class="oe_module_desc" t-att-title="record.name.value">
                        <h4 class="o_kanban_record_title">
                            <field name="name"/>&amp;nbsp;
                        </h4>
                        <p class="oe_module_name">
                            <field name="state"/>
                            <code><field name="state"/></code>
                        </p>
                        <div class="oe_module_action">
                            <button name="action_view_quick"
                                string="Quick View"
                                type="object"
                                class="btn-primary"
                                icon="icon-eye"/>
                        </div>
                    </div>
                </t>
                </templates>
            </kanban>
        </field>
    </record>

    <record id="view_ai_agent_config_search" model="baseuiview">
        <field name="name">view.ai.agent.config.search</field>
        <field name="model">aiagentconfig</field>
        <field name="arch" type="xml">
            <search string="Search AI Agent Configurations">
                <field name="name" string="Name"/>
                <field name="email" string="Email"/>
                <field name="state" string="State"/>
                <separator/>
                <filter name="connected" string="Connected" domain="[('state', '=', 'connected')]"/>
                <filter name="draft" string="Draft" domain="[('state', '=', 'draft')]"/>
                <filter name="failed" string="Failed" domain="[('state', '=', 'failed')]"/>
                <filter name="main_config" string="Main Config" domain="[('use_config', '=', True)]"/>
                <separator/>
                <filter name="date_range" string="Range by Date" field="auto" filter_type="date_range"/>
                <filter name="number_range" string="Range by Number" field="auto" filter_type="number_range"/>
                <filter name="create_date" string="Create Date" field="created_at" filter_type="date_filter"/>
                <separator/>
                <group expand="0" string="Group By">
                    <filter name="groupby_state" string="State" context="{'group_by': 'state'}"/>
                    <filter name="groupby_use_config" string="Main Config" context="{'group_by': 'use_config'}"/>
                </group>
            </search>
        </field>
    </record>

    <!-- AI Agent Config Action -->
    <record id="action_ai_agent_config_window" model="baseactionactwindow">
        <field name="name">AI Agent Configurations</field>
        <field name="res_model">aiagentconfig</field>
        <field name="view_mode">list,form,kanban</field>
        <field name="context">{}</field>
        <field name="help">Create and manage AI Chat Session.</field>
        <field name="domain">[]</field>
    </record>


</hmx>
